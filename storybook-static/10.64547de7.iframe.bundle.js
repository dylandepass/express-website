(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"./node_modules/core-js/internals/number-parse-float.js":function(module,exports,__webpack_require__){var global=__webpack_require__("./node_modules/core-js/internals/global.js"),fails=__webpack_require__("./node_modules/core-js/internals/fails.js"),uncurryThis=__webpack_require__("./node_modules/core-js/internals/function-uncurry-this.js"),toString=__webpack_require__("./node_modules/core-js/internals/to-string.js"),trim=__webpack_require__("./node_modules/core-js/internals/string-trim.js").trim,whitespaces=__webpack_require__("./node_modules/core-js/internals/whitespaces.js"),charAt=uncurryThis("".charAt),$parseFloat=global.parseFloat,Symbol=global.Symbol,ITERATOR=Symbol&&Symbol.iterator,FORCED=1/$parseFloat(whitespaces+"-0")!=-1/0||ITERATOR&&!fails((function(){$parseFloat(Object(ITERATOR))}));module.exports=FORCED?function parseFloat(string){var trimmedString=trim(toString(string)),result=$parseFloat(trimmedString);return 0===result&&"-"==charAt(trimmedString,0)?-0:result}:$parseFloat},"./node_modules/core-js/modules/es.number.parse-float.js":function(module,exports,__webpack_require__){var $=__webpack_require__("./node_modules/core-js/internals/export.js"),parseFloat=__webpack_require__("./node_modules/core-js/internals/number-parse-float.js");$({target:"Number",stat:!0,forced:Number.parseFloat!=parseFloat},{parseFloat:parseFloat})},"./tools/preview/preview.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/web.url.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.number.parse-float.js"),__webpack_require__("./node_modules/core-js/modules/es.number.constructor.js");var _express_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./express/scripts/scripts.js"),_express_scripts_franklin_web_library_esm_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./express/scripts/franklin-web-library.esm.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function createTesting(){if(Object(_express_scripts_franklin_web_library_esm_js__WEBPACK_IMPORTED_MODULE_13__.d)()){var div=document.createElement("div");return div.className="hlx-testing hlx-badge",div.innerHTML='<span title="This Page is part of an A/B Test run in Adobe Target">Testing On</span>',div}return""}function createExperiment(){return _createExperiment.apply(this,arguments)}function _createExperiment(){return _createExperiment=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var selectedVariant,experiment,config,createVariant,manifestButton,div,popup,variantMap,variants;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(selectedVariant=window.hlx&&window.hlx.experiment&&window.hlx.experiment.selectedVariant?window.hlx.experiment.selectedVariant:"control",experiment=Object(_express_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_12__.z)(Object(_express_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_12__.t)("experiment")),console.log("preview experiment",experiment),!experiment){_context2.next=20;break}return _context2.next=6,Object(_express_scripts_franklin_web_library_esm_js__WEBPACK_IMPORTED_MODULE_13__.g)(experiment);case 6:return config=_context2.sent,createVariant=function createVariant(variantName){var variant=config.variants[variantName],split=+variant.percentageSplit||1-config.variantNames.reduce((function(c,vn){return c+ +config.variants[vn].percentageSplit}),0),percentage=Math.round(1e4*split)/100,div=document.createElement("div"),experimentURL=new URL(window.location.href);return experimentURL.searchParams.set("experiment",experiment+"/"+variantName),div.className="hlx-variant"+(selectedVariant===variantName?" hlx-variant-selected":" "),div.innerHTML="<div>\n      <h5>"+variantName+"</h5>\n        <p>"+variant.label+"</p>\n        <p>"+percentage+'%</p>\n        <p class="performance"></p>\n      </div>\n      <div class="hlx-button"><a href="'+experimentURL.href+'">Simulate</a></div>',div},manifestButton=config.manifest?'<div class="hlx-button"><a href="'+config.manifest+'">Manifest</a></div>':"",(div=document.createElement("div")).className="hlx-experiment hlx-badge",div.classList.add("hlx-experiment-status-"+Object(_express_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_12__.z)(config.status)),div.innerHTML="Experiment: "+config.id+' <span class="hlx-open"></span>\n      <div class="hlx-popup hlx-hidden">\n      <div class="hlx-popup-header">\n        <div>\n          <h4>'+config.experimentName+'</h4>\n          <div class="hlx-details">'+config.status+", "+config.audience+", Blocks: "+config.variants.control.blocks.join(",")+"</div>\n        </div>\n        <div>\n        "+manifestButton+'\n        </div>\n      </div>\n      <div class="hlx-variants"></div>\n      </div>',console.log(config.id),popup=div.querySelector(".hlx-popup"),variantMap={},div.addEventListener("click",(function(){popup.classList.toggle("hlx-hidden");var resultsURL=new URL("https://helix-pages.anywhere.run/helix-services/run-query@v2/rum-experiments");resultsURL.searchParams.set("experiment",experiment),window.hlx.sidekickConfig&&window.hlx.sidekickConfig.host&&resultsURL.searchParams.set("domain",window.hlx.sidekickConfig.host),fetch(resultsURL.href).then(function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(response){var _yield$response$json;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,response.json();case 2:_yield$response$json=_context.sent,_yield$response$json.results.forEach((function(result){var nf_format=function format(num){return Math.floor(num)+"%"},variant=variantMap[result.variant];variant&&(variant.querySelector(".performance").innerHTML="\n              <span>click rate: "+nf_format(100*Number.parseFloat(result.variant_conversion_rate))+"</span>\n              <span>vs. "+nf_format(100*Number.parseFloat(result.control_conversion_rate))+"</span>\n              <span>significance: "+nf_format(100*Number.parseFloat(result.p_value))+"</span> \x3c!-- everything below 95% is not good enough for the social sciences to be considered significant ---\x3e\n            ")}));case 5:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}())})),variants=div.querySelector(".hlx-variants"),config.variantNames.forEach((function(vname){var variantDiv=createVariant(vname);variants.append(variantDiv),variantMap[vname]=variantDiv})),_context2.abrupt("return",div);case 20:return _context2.abrupt("return","");case 21:case"end":return _context2.stop()}}),_callee2)}))),_createExperiment.apply(this,arguments)}function _decoratePreviewMode(){return(_decoratePreviewMode=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var overlay;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return Object(_express_scripts_scripts_js__WEBPACK_IMPORTED_MODULE_12__.y)("/tools/preview/preview.css"),(overlay=document.createElement("div")).className="hlx-preview-overlay",overlay.append(createTesting()),_context3.t0=overlay,_context3.next=7,createExperiment();case 7:_context3.t1=_context3.sent,_context3.t0.append.call(_context3.t0,_context3.t1),document.body.append(overlay);case 10:case"end":return _context3.stop()}}),_callee3)})))).apply(this,arguments)}try{!function decoratePreviewMode(){return _decoratePreviewMode.apply(this,arguments)}()}catch(e){console.log(e)}}}]);